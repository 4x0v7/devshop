# DevShop Roles
# Build Tool
#
# This docker-compose file is only for building containers.
#
---
version: '3'
services:

  devshop.server:
    image: "devshop/server:${OS:-ubuntu1804}"
    build:
      context: "."
      dockerfile: "devshop.server/Dockerfile"
      args:
        OS: "${OS:-ubuntu1804}"
    extra_hosts:
      - "drpl8.testenv.devshop.local.computer:127.0.0.1"
    hostname: devshop.local.computer
    ports:
      - "80:80"
      - "2222:22"
    privileged: true
    volumes:
      - /sys/fs/cgroup:/sys/fs/cgroup:ro
      - /var/lib/mysql
      - /var/logs/aegir
